function SysDate(){var n,t;return{FUTC:function(t){return n=new Date(t),this},FNOW:function(){return n=new Date,this},FTIMESPAN:function(t){return n=STS_UTCDateTime(t),this},FDTEXT:function(t){return n=SDS_UTCDateTime(t,sysdate_format,sysdate_mark),this},FUTCTIME:function(t){return n=SDT_UTCDate(t),this},FTIMEINT:function(t){return t=t.toString(),n=SDNum_UTCDate(t),this},FUTCNUM:function(t){return n=SDUTCNUM_UTCDate(t),this},FUTCFULLNUM:function(t){return n=SDUTCFUNUM_UTCDate(t),this},FSECNUM:function(n){return t=Number(n),this},DateText:function(){var t=SDDT_StringDate(n,sysdate_format,sysdate_mark);return t.includes("1900")?"":t},DayMonthText:function(){var t=SDDT_StringDate(n,"ddMM",sysdate_mark);return t.includes("1900")?"":t},TimeText:function(){return SDDT_StringTime(n,"hhmm",syshour_type)},TimeText24:function(){return SDDT_StringTime(n,"hhmm","24")},TimeFullText:function(){return SDDT_StringTime(n,"hhmmss",syshour_type)},DOWText:function(){return SDDT_StringDOW(n,!1)},DayText:function(){return SDDT_StringDay(n)},DOWShortText:function(){return SDDT_StringDOW(n,!0)},LiveText:function(){return SDDT_Live(n)},AgoText:function(){return SDDT_Ago(n)},DTText:function(){let i=SDDT_StringTime(n,"hhmm",syshour_type),t=SDDT_StringDate(n,sysdate_format,sysdate_mark);return t.includes("1900")?"":i==""&&t==""?"":i==""?`${t}`:`${i} ${t}`},DTFullText:function(){let i=SDDT_StringTime(n,"hhmmss",syshour_type),t=SDDT_StringDate(n,sysdate_format,sysdate_mark);return t.includes("1900")?"":i==""&&t==""?"":i==""?`${t}`:`${i} ${t}`},DDowText:function(){let i=SDDT_StringDOW(n,!1),t=SDDT_StringDate(n,sysdate_format,sysdate_mark);return t.includes("1900")?"":i==""&&t==""?"":i==""?`${t}`:`${i} , ${t}`},MonthShortText:function(){return SDDT_StringMonth(n,isShort=!0)},DDowFullText:function(){let r=SDDT_StringDOW(n,!1),i=SDDT_StringTime(n,"hhmmss",syshour_type),t=SDDT_StringDate(n,sysdate_format,sysdate_mark);return t.includes("1900")?"":i==""&&t==""?"":i==""?`${t}`:`${r} , ${i} ${t}`},UTCText:function(){let t=SDDT_StringTime(n,"hhmmss","24"),i=SDDT_StringDate(n,"yyyyMMdd","-");return t==""&&i==""?"":t==""?`${i}`:`${i} ${t}`},UTCDateText:function(){let t=SDDT_StringDate(n,"yyyyMMdd","-");return t==""?"":`${t}`},UTC_DNum:function(){let t=SDDT_StringDate(n,"yyyyMMdd","-");return t=t.replace(new RegExp("\\-","g"),""),t==""?0:Number(t)},UTC_TNumHM:function(){let t=SDDT_StringTime(n,"hhmm","24");return t=t.replace(/:/g,""),t==""?0:Number(t)},UTC_TimeTextHM:function(){let t=SDDT_StringTime(n,"hhmm","24");return t=t.replace(/:/g,""),t==""?"":t},UTC_DTFullNum:function(){let t=SDDT_StringDate(n,"yyyyMMdd","-"),i=SDDT_StringTime(n,"hhmmss","24");return t=t.replace(new RegExp("\\-","g"),""),i=i.replace(/:/g,""),t==""?0:t+i},UTC_DateTime:function(){return n},UTC_Date:function(){return SDDT_UTCDate(n)},DIS_Time:function(){return STNum_DistanceTime(t)},TSPAN_NUM:function(){return SDDT_TimeSpan(n)}}}function Sys2Date(){var n,t;return{FUTC:function(i,r){return n=new Date(i),t=new Date(r),this},FUTCTIME:function(i,r){return n=SDT_UTCDate(i),t=SDT_UTCDate(r),this},FUTCNUM:function(i,r){return n=SDUTCNUM_UTCDate(i),t=SDUTCNUM_UTCDate(r),this},YDistance:function(){let i=SD2DT_YDistance(n,t);return Number(i)},MDistance:function(){let i=SD2DT_MDistance(n,t);return Number(i)},DaDistance:function(){let i=SD2DT_DaDistance(n,t);return Number(i)},MiDistance:function(){let i=SD2DT_MiDistance(n,t);return Number(i)},DateText:function(){var i=SDDT_StringDate(n,sysdate_format,sysdate_mark),r=SDDT_StringDate(t,sysdate_format,sysdate_mark);return i.includes("1900")||r.includes("1900")?"":`${i}<i class="fas fa-caret-right px-2"></i>${r}`}}}function SDDT_StringDate(n,t,i){try{let u="",r={};if(r.day=n.getDay(),r.date=n.getDate(),r.monthSys=n.getMonth(),r.month=n.getMonth()+1,r.year=n.getFullYear(),!isNaN(r.day)&&r.day!==null&&r.day!=="")switch(t){case"ddMMyyyy":u=`${r.date.toString().padStart(2,"0")}${i}${r.month.toString().padStart(2,"0")}${i}${r.year}`;break;case"yyyyMMdd":u=`${r.year}${i}${r.month.toString().padStart(2,"0")}${i}${r.date.toString().padStart(2,"0")}`;break;case"ddMM":u=`${r.date.toString().padStart(2,"0")}${i}${r.month.toString().padStart(2,"0")}`;break;default:return console.log("Date format missing: "),""}return u}catch(r){return console.log("Date error : "+r.toString()),""}}function SDDT_StringTime(n,t,i){try{let u="",r={};if(r.hour=n.getHours(),r.minute=n.getMinutes(),r.second=n.getSeconds(),!isNaN(r.hour)&&r.hour!==null&&r.hour!==""){if(i=="12"){let n="";r.hour==12?n=Outlang.Sys_schieu:r.hour>12?(n=Outlang.Sys_schieu,r.hour=r.hour-12):(n=Outlang.Sys_ssang,r.hour==0&&(r.hour=12));switch(t){case"hhmm":u=`${(r.hour??0).toString().padStart(2,"0")}:${(r.minute??0).toString().padStart(2,"0")}${n!==""?` ${n}`:""}`;break;case"hhmmss":r.second=(r.second??0)===0?":00":":"+(r.second??0).toString().padStart(2,"0");u=`${(r.hour??0).toString().padStart(2,"0")}:${(r.minute??0).toString().padStart(2,"0")}${r.second}${n!==""?` ${n}`:""}`;break;default:return console.log("Time format missing: "),""}}if(i=="24")switch(t){case"hhmm":u=`${(r.hour??0).toString().padStart(2,"0")}:${(r.minute??0).toString().padStart(2,"0")}`;break;case"hhmmss":r.second=(r.second??0)===0?":00":":"+(r.second??0).toString().padStart(2,"0");u=`${(r.hour??0).toString().padStart(2,"0")}:${(r.minute??0).toString().padStart(2,"0")}${r.second}`;break;default:return console.log("Time format missing: "),""}}return u}catch(r){return console.log("Time error: "+r.toString()),""}}function SDDT_StringDOW(n,t){try{let r="",i={};return i.day=n.getDay(),isNaN(i.day)||i.day===null||i.day===""||(r=t?sysdow_short[i.day]:sysdow_long[i.day]),r}catch(i){return console.log("Date error : "+i.toString()),""}}function SDDT_StringDay(n){try{return n.getDate()<10?"0"+n.getDate():n.getDate()}catch(t){return console.log("SDDT_StringDay error : "+t.toString()),""}}function SDDT_StringMonth(n,t){try{let r="",i={};return i.month=n.getMonth(),isNaN(i.month)||i.month===null||i.month===""||(r=t?sysmonth_short[i.month]:sysmonth_long[i.month]),r}catch(i){return console.log("Month error : "+i.toString()),""}}function SDDT_Live(n){try{var t=Math.floor((new Date-n)/1e3);let i="",r="",u=t/2592e3;return u>1?(i="",r=""):t/86400>1&&(i="",r=""),t/3600>1?(i="text-secondary",r=`${Math.floor(t/3600)} ${Outlang.Gio}`):t/60>5?(i="text-secondary",r=`${Math.floor(t/60)} ${Outlang.Phut}`):t/60<5&&(i="text-success",r="online"),i!=""&&r!=""?`<i class="fas fa-circle ${i} me-1"></i><span class="text-lowercase">${r}</span>`:""}catch(i){return console.log("Live error : "+i.toString()),""}}function SDDT_Ago(n){try{const r=new Date(n);if(isNaN(r))return"";const f=new Date,u=f-r;if(u<0)return"";const t=Math.floor(u/6e4),i=Math.floor(t/60);return t<1?`1 ${Outlang.Phut}`:t<60?`${t} ${Outlang.Phut}`:i===1?`1 ${Outlang.Gio}`:i<24?`${i} ${Outlang.Gio}`:""}catch(t){return console.log("Live error : "+t.toString()),""}}function SDS_UTCDateTime(n,t,i){try{if(n&&n.trim()!==""){i=new RegExp("\\"+i,"g");let r=n.split(" "),u=0,f=0,e=0,o=0,s=0,h=0;if(r.length>0){let c=(r[0]||"").split(i),l=(r[1]||"").split(":");switch(t){case"ddMMyyyy":if(c.length>=3)u=c[2],f=Number(c[1])-1,e=c[0];else return console.error("Invalid date format: ",n),"";break;case"yyyyMMdd":if(c.length>=3)u=c[0],f=Number(c[1])-1,e=c[2];else return console.error("Invalid date format: ",n),"";break;default:return console.error("Date format missing:",t),""}return o=Number(l[0])||0,s=Number(l[1])||0,h=Number(l[2])||0,new Date(u,f,e,o,s,h)}}return""}catch(r){return console.error(`UTCDate error: ${r.toString()} - Input: _text="${n}", _format="${t}", _mark="${i}"`),""}}function SDNum_UTCDate(n){try{if(n=n?.toString()??"",n==="")return null;let u=1900,f=0,e=1,t=0,i=0,r=0;switch(n.length){case 14:r=parseInt(n.substring(12,14),10);i=parseInt(n.substring(10,12),10);t=parseInt(n.substring(8,10),10);e=parseInt(n.substring(6,8),10);f=parseInt(n.substring(4,6),10)-1;u=parseInt(n.substring(0,4),10);break;case 6:r=parseInt(n.substring(4,6),10);i=parseInt(n.substring(2,4),10);t=parseInt(n.substring(0,2),10);break;case 4:i=parseInt(n.substring(2,4),10);t=parseInt(n.substring(0,2),10);break;default:return null}return new Date(u,f,e,t,i,r)}catch(t){return console.log("Error in SDNum_UTCDate: ",t),null}}function SDDT_UTCDate(n){try{return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0)}catch(t){return null}}function SDT_UTCDate(n){try{let t=new Date,i=n.split(":");return new Date(t.getFullYear(),t.getMonth(),t.getDate(),i[0]??0,i[1]??0,i[2]??0)}catch(t){return null}}function STS_UTCDateTime(n){try{return new Date(Number(n)*1e3)}catch(i){return null}}function SDDT_TimeSpan(n){try{return n!=undefined?new Date(n).getTime():(new Date).getTime()}catch(t){return""}}function SDUTCNUM_UTCDate(n){try{if(n=n.toString(),n==""||n=="0")return null;let t=n.substring(4,6),i=n.substring(6,8),r=n.substring(0,4);return new Date(r,Number(t)-1,i,0,0,0,0)}catch(t){return null}}function SDUTCFUNUM_UTCDate(n){try{if(n=n.toString(),n==""||n=="0")return null;let t=n.substring(4,6),i=n.substring(6,8),r=n.substring(0,4),u=n.substring(8,10),f=n.substring(10,12),e=n.substring(12,14);return new Date(r,Number(t)-1,i,u??0,f??0,e??0)}catch(t){return null}}function STNum_DistanceTime(n){try{let t=Math.floor(n/3600);n%=3600;let i=Math.floor(n/60),r=n%60;return i=String(i).padStart(2,"0"),t=String(t).padStart(2,"0"),r=String(r).padStart(2,"0"),t+":"+i+":"+r}catch(t){return console.log("Error in STNum_DistanceTime: ",t),""}}function SD2DT_YDistance(n,t){try{return Math.abs(Number(t.getFullYear()-n.getFullYear()))}catch(i){return 0}}function SD2DT_MDistance(n,t){try{const i=t.getFullYear()-n.getFullYear(),r=t.getMonth()-n.getMonth();return Math.abs(i*12+r)}catch(i){return 0}}function SD2DT_DaDistance(n,t){try{const i=Math.abs(t-n);return Math.floor(i/864e5)}catch(i){return 0}}function SD2DT_MiDistance(n,t){try{const i=Math.abs(t-n);return Math.floor(i/6e4)}catch(i){return 0}}Date.prototype.addDays=function(n){var t=new Date(this.valueOf());return t.setDate(t.getDate()+n),t};Date.prototype.addHours=function(n){return this.setTime(this.getTime()+n*36e5),this};Date.prototype.addMinutes=function(n){return this.setTime(this.getTime()+n*6e4),this};Date.prototype.addSeconds=function(n){return this.setTime(this.getTime()+n*1e3),this};var syshour_type=Master_TimeFormat,sysdate_mark="/",sysdate_format="ddMMyyyy",sysdow_long=[Outlang.Sys_thu_8,Outlang.Sys_thu_2,Outlang.Sys_thu_3,Outlang.Sys_thu_4,Outlang.Sys_thu_5,Outlang.Sys_thu_6,Outlang.Sys_thu_7],sysdow_short=[Outlang.Sys_ddd_8,Outlang.Sys_ddd_2,Outlang.Sys_ddd_3,Outlang.Sys_ddd_4,Outlang.Sys_ddd_5,Outlang.Sys_ddd_6,Outlang.Sys_ddd_7],sysmonth_short=[Outlang.Sys_sthang_1,Outlang.Sys_sthang_2,Outlang.Sys_sthang_3,Outlang.Sys_sthang_4,Outlang.Sys_sthang_5,Outlang.Sys_sthang_6,Outlang.Sys_sthang_7,Outlang.Sys_sthang_8,Outlang.Sys_sthang_9,Outlang.Sys_sthang_10,Outlang.Sys_sthang_11,Outlang.Sys_sthang_12],sysmonth_long=[Outlang.Sys_thang_1,Outlang.Sys_thang_2,Outlang.Sys_thang_3,Outlang.Sys_thang_4,Outlang.Sys_thang_5,Outlang.Sys_thang_6,Outlang.Sys_thang_7,Outlang.Sys_thang_8,Outlang.Sys_thang_9,Outlang.Sys_thang_10,Outlang.Sys_thang_11,Outlang.Sys_thang_12];Master_DateFormat.includes("/")?sysdate_mark="/":Master_DateFormat.includes("-")?sysdate_mark="-":Master_DateFormat.includes(".")&&(sysdate_mark=".");switch(sysdate_mark){case".":case"/":case"-":sysdate_format=Master_DateFormat.replace(new RegExp("\\"+sysdate_mark,"g"),"")}(function(n){n.fn.date_validate=function(t){function o(n){var o;if(n&&n!==""){if(n.match(u.format)){var i=n.split(r),f=parseInt(i[0]),t=parseInt(i[1]),e=parseInt(i[2]);if((t===1||t>2)&&f>[31,28,31,30,31,30,31,31,30,31,30,31][t-1]||t===2&&(o=!(e%4)&&e%100||!(e%400),!o&&f>=29||o&&f>29))return!1}else return!1;return!0}return!0}var i=this,f=!0,r=sysdate_mark??""?sysdate_mark:"/",e={format:new RegExp(`^(0[1-9]|[12][0-9]|3[01])([${r}])`+`(0[1-9]|1[0-2])\\2(19|20)\\d{2}$`),"class":"error-birthday",elm_error:".field",maxlength:"10",placeholder:Master_DateFormat},u=n.extend({},e,t);i.attr("placeholder",e.placeholder);i.attr("maxlength",e.maxlength);i.init=function(){f=o(i.val())};i.init();i.on("keydown",function(n){if(n.key!="Backspace"&&n.key!="Delete"){var t=i.val();t.match(/^\d{2}$/)!==null?i.val(t+r):t.match(new RegExp(`^\\d{2}\\${r}\\d{2}$`))!==null&&i.val(t+r)}});return i.change(function(){o(i.val())===!1?(i.closest(u.elm_error).addClass(u.class),f=!1):(i.closest(u.elm_error).removeClass(u.class),f=!0)}),{get_validate:function(){return f}}}})(jQuery);